{
  "$comment": "공유 DB 스키마 설정 - 모든 프로젝트에서 동일하게 사용",
  "version": "1.0.0",
  "lastUpdated": "2025-12-20",

  "schemas": {
    "common": {
      "description": "공통 테이블 (모든 프로젝트 공유)",
      "tables": ["users", "roles", "audit_logs", "company_settings"],
      "usedBy": ["manual-ai", "market-ai", "stock-ai", "influencer-ai"]
    },
    "manual": {
      "description": "매뉴얼 관리 시스템",
      "tables": ["manuals", "manual_categories", "manual_tags", "manual_versions", "manual_attachments", "manual_embeddings", "manual_chunks", "ai_chat_sessions"],
      "usedBy": ["manual-ai"]
    },
    "business": {
      "description": "비즈니스 프로세스 (시술/절차)",
      "tables": ["procedures", "procedure_costs", "procedure_equipment", "procedure_items", "procedure_manuals"],
      "usedBy": ["manual-ai", "influencer-ai"]
    },
    "influencer": {
      "description": "인플루언서 관리",
      "tables": ["influencers", "channels", "collaborations", "campaigns", "contents", "schedules", "treatments", "treatment_categories"],
      "usedBy": ["influencer-ai"],
      "note": "influencer-ai에서 생성한 camelCase 컬럼 사용"
    },
    "inventory": {
      "description": "재고 관리",
      "tables": ["items", "item_lots", "item_barcodes", "stock_transactions", "loans", "loan_items", "partners", "contacts", "locations", "brands"],
      "usedBy": ["stock-ai", "manual-ai"]
    },
    "market": {
      "description": "시장 분석",
      "tables": ["market_procedures", "market_prices", "market_competitors", "market_alerts", "market_packages"],
      "usedBy": ["market-ai"]
    }
  },

  "projects": {
    "manual-ai": {
      "schemas": ["common", "manual", "business", "inventory"],
      "note": "influencer 스키마는 읽기 전용으로만 사용"
    },
    "market-ai": {
      "schemas": ["common", "market"]
    },
    "stock-ai": {
      "schemas": ["common", "inventory"]
    },
    "influencer-ai": {
      "schemas": ["common", "influencer", "business"]
    }
  },

  "conventions": {
    "columnNaming": "snake_case (권장)",
    "tableNaming": "복수형 snake_case",
    "enumNaming": "PascalCase",
    "timestamps": ["created_at", "updated_at"],
    "softDelete": "is_active 또는 deleted_at"
  }
}
